<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">

  <title>
    Giftos
  </title>

  <!-- slider stylesheet -->
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />
</head>

<style>
  #abstract {
    max-width: 100%;
    /* Limit the width to 80% of the viewport */
    /* max-height: 105%; Limit the height to 80% of the viewport */
    /* width: auto; */
    height: 100%;
    object-fit: fill;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    /* Optional: add a subtle shadow for better visual appeal */
  }
</style>

<body>
  <div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
      <nav class="navbar navbar-expand-lg custom_nav-container ">
        <a class="navbar-brand" href="index.html">
          <span>
            Giftos
          </span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class=""></span>
        </button>

        <div class="collapse navbar-collapse innerpage_navbar" id="navbarSupportedContent">
          <ul class="navbar-nav  ">
            <li class="nav-item ">
              <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="shop.html">
                Shop
              </a>
            </li>
            <!-- <li class="nav-item">
              <a class="nav-link" href="why.html">
                Why Us
              </a>
            </li> -->
            <!-- <li class="nav-item">
              <a class="nav-link" href="testimonial.html">
                Testimonial
              </a>
            </li> -->
            <li class="nav-item active">
              <a class="nav-link" href="register.html">Register</a>
            </li>
          </ul>
          <div class="user_option" id="loginNavItem">
            <a href="login.html">
              <i class="fa fa-user" aria-hidden="true"></i>
              <span>
                Login
              </span>
            </a>
          </div>
          <form class="d-flex" role="search" id="searchForm">
            <input class="form-control me-2" placeholder="Search" aria-label="Search" id="searchInput">
            <button class="btn btn-outline-success" id="search-btn">Search</button>
          </form>
        </div>
  </div>
  </nav>
  </header>
  <!-- end header section -->

  </div>
  <!-- end hero area -->

  <!-- contact section -->

  <section class="contact_section layout_padding">
    <div class="container px-0">
      <div class="heading_container ">
        <h2 class="">
          Register form
        </h2>
      </div>
    </div>
    <div class="container container-bg">
      <div class="row">
        <div class="col-lg-7 col-md-6 px-0">
          <div class="map_container">
            <div class="map-responsive">
              <img
                src="https://images.rawpixel.com/image_800/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvbHIvdjEwMTYtYy0wOF8xLWtzaDZtemEzLmpwZw.jpg"
                alt="Descriptive alt text" id="abstract">
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-5 px-0">
          <form id="userForm">
            <div>
              <input type="text" id="name" placeholder="Name" required>
            </div>
            <div>
              <input type="email" id="email" placeholder="Email" required>
            </div>
            <div>
              <input type="password" id="password" placeholder="Password" required>
            </div>
            <div>
              <input type="password" id="confirmPassword" placeholder="Confirm Password" required>
              <label id="formError" style="display: none; color: red;"></label>
            </div>
            <div>
              <button type="submit" id="registerButton">Register</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- end contact section -->

  <!-- info section -->

  <section class="info_section  layout_padding2-top">
    <div class="social_container">
      <div class="social_box">
        <a href="">
          <i class="fa fa-facebook" aria-hidden="true"></i>
        </a>
        <a href="">
          <i class="fa fa-twitter" aria-hidden="true"></i>
        </a>
        <a href="">
          <i class="fa fa-instagram" aria-hidden="true"></i>
        </a>
        <a href="">
          <i class="fa fa-youtube" aria-hidden="true"></i>
        </a>
      </div>
    </div>
    <div class="info_container ">
      <div class="container">
        <div class="row">
          <div class="col-md-6 col-lg-3">
            <h6>
              ABOUT US
            </h6>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed doLorem ipsum dolor sit amet, consectetur
              adipiscing elit, sed doLorem ipsum dolor sit amet,
            </p>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="info_form ">
              <h5>
                Newsletter
              </h5>
              <form action="#">
                <input type="email" placeholder="Enter your email">
                <button>
                  Subscribe
                </button>
              </form>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <h6>
              NEED HELP
            </h6>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed doLorem ipsum dolor sit amet, consectetur
              adipiscing elit, sed doLorem ipsum dolor sit amet,
            </p>
          </div>
          <div class="col-md-6 col-lg-3">
            <h6>
              CONTACT US
            </h6>
            <div class="info_link-box">
              <a href="">
                <i class="fa fa-map-marker" aria-hidden="true"></i>
                <span> Gb road 123 london Uk </span>
              </a>
              <a href="">
                <i class="fa fa-phone" aria-hidden="true"></i>
                <span>+01 12345678901</span>
              </a>
              <a href="">
                <i class="fa fa-envelope" aria-hidden="true"></i>
                <span> demo@gmail.com</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- footer section -->
    <footer class=" footer_section">
      <div class="container">
        <p>
          &copy; <span id="displayYear"></span> All Rights Reserved By
          <a href="https://html.design/">Free Html Templates</a>
        </p>
      </div>
    </footer>
    <!-- footer section -->

  </section>

  <!-- end info section -->


  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
  </script>
  <script src="js/custom.js"></script>
  <script>




    $(document).ready(function () {




      $('#searchForm').on('submit', function (event) {
        event.preventDefault();


        var query = $('#searchInput').val();

        searchAndLoad(query);
      });

      $('#registerButton').on('click', function (event) {
        event.preventDefault(); // Prevent the default
        addUser();
      });


      function searchAndLoad(query) {

        if (query.startsWith('daftar_')) {
          // window.location.href = 'daftar.html';
        }
        else {
          window.location.href = 'shop.html?search=' + encodeURIComponent(query);
        }
      }


      $("#search-btn").click(function () {
        var query = $("#searchInput").val();
        if (query.trim() !== "") {
          searchAndLoad(query);
        }
      });


      $("#searchInput").keypress(function (event) {
        if (event.which === 13) { // Enter key pressed
          var query = $("#searchInput").val();
          if (query.trim() !== "") {
            searchAndLoad(query);
          }
        }
      });
    });

    function addUser() {
      // Get form data
      var formData = {
        name: $('#name').val(),
        email: $('#email').val(),
        password: $('#password').val(),
        confirmPassword: $('#confirmPassword').val()
      };

      for (var field in formData) {
        if (!formData[field]) {
          $('#formError').text('Please fill in all the fields').show();
          return;
        }
      }

      var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailPattern.test(formData.email)) {
        // Show error message for invalid email
        $('#formError').text('Please enter a valid email address').show();
        return;
      }

      // Check if passwords match
      if (formData.password !== formData.confirmPassword) {
        $('#formError').text('Passwords must match').show();
        return;
      }

      // Hide error label if passwords match
      $('#formError').hide();


      $.ajax({
        type: 'POST',
        url: '/addUser',
        data: JSON.stringify(formData),
        contentType: 'application/json',
        success: function (response) {
          console.log('User added successfully:', response);
          $('#formError').text('User added successfully').css('color', 'green').show();
          $('#userForm')[0].reset();

        },
        error: function (xhr, status, error) {
          console.error('Error adding user:', error);
          $('#password').val('');
          $('#confirmPassword').val('');
          showFailedMessage('Email already exists');
        }
      });
    }
    function showFailedMessage(message) {
      toastr.error(message, 'Error', {
        closeButton: true,
        progressBar: true,
        positionClass: 'toast-top-center' // Display at top center
      });
    }



  </script>
</body>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

</html>